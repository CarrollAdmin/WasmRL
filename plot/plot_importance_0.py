import numpy as np
import matplotlib.pyplot as plt
from matplotlib.ticker import MultipleLocator

# Your data
# data = [0.006906622114507273,0.0058376513919754704,0.004037989238658795,0.010101166159921446,0.0040319512178983545,0.005852031933605532,0.01196004476096437,0.0053792057901286645,0.0007324185032077921,0.006862494588659814,0.006701555905407447,0.008210528192221251,0.002085477355386278,0.0028184183973892,0.004684038793111661,0.009226993832480872,0.002890228968701365,0.002530077771783385,0.011115909399670153,0.010676254796487074,0.003099895153832056,0.004803030980401933,0.002547341436116375,0.003855432757800474,0.003946485500464513,0.008911300738419912,0.003441155828254906,0.010647755393012917,0.02014613014271289,0.0011472717961050901,0.014259074918067239,0.0067298623485655224,0.0076109034011066345,0.004144234779502397,0.0024167096179716152,0.005525445882587967,0.005840445018117875,0.002399559423598815,0.03234318869418528,0.005883742486648467,0.002559857892527357,0.008805176459001784,0.009479615083549189,0.0021096741817544333,0.003773684915532146,0.001276983204429248,0.006244434988108097,0.0076025861085061595,0.0016700219319522327,0.004478596480088248,0.0031427527550443946,0.007216271685608923,0.009440944639797215,0.00251500052518805,0.0042318771691891134,0.003937460554317979,0.1428068370717494,0.003148011598651389,0.0023122680204045155,0.0009315969774944917,0.006737571810517297,0.001592123678821286,0.0287911818063969,0.005776995374492268,0.002906618643350142,0.00271690669493447,0.005134429604454571,0.003839868115938347,0.006492542540967089,0.00477916805655622,0.014126609024821102,0.017173183516195414,0.002966075187990135,0.0017440463283305372,0.007681645345360864,0.006477452819368653,0.008298194931067036,0.0071239772359284245,0.006787499937247116,0.001237847374607807,0.011325879217505342,0.004346609260627605,0.0033928298952686114,0.004285825586239448,0.0029142245365072314,0.0030209811186096658,0.003665413931599306,0.013119353515749646,0.004547014716760642,0.002134288570067232,0.001057365683139706,0.0024107274465566477,0.009958814849018793,0.007356991976812094,0.0004011828151507274,0.003173140568750231,0.04789677377351782,0.003783219155012031,0.005628929454645465,0.004149280999948915,0.004710818401703401,0.001920480338350195,0.0074626882423162065,0.005508916483707637,0.004915302764380019,0.0021800401883471008,0.024278982556333824,0.006887933608439078,0.005665860667779102,0.01055719579338793,0.009379407019737987,0.006345491597048408,0.0023232856113307937,0.00626750778785605,0.003067470921493101,0.0049322593095009765,0.004050451176626217,0.002726173291817122,0.004650348224932086,0.0032742980823969254,0.004432530398068577,0.00400432113534345,0.004336405130271175,0.0022622975905172114,0.002641671271222287,0.036923893511186245,0.0031955760950117948,0.008322932933069191,0.001396295539355688,0.0003964207002703786,0.007957850301150005,0.019888003676520032,0.002160426899163569
# ]
data = [0.0080002565393792,0.007045667279553724,0.004892880899961895,0.0077333801721359095,0.0036387960759411133,0.002693912741568684,0.009682704132460479,0.00641337934913498,0.0009189330134492909,0.006326604554021435,0.004743641726446253,0.011522015590264575,0.001435982166850009,0.0023378290197367283,0.003376278148953738,0.008244435894099915,0.0026964756152571927,0.00274512830335265,0.009470100842085867,0.010944537154014812,0.0032014378495575204,0.004384369155980632,0.0034296745149157313,0.0038984128099868094,0.003672591452762616,0.008961340697607732,0.004385261400215008,0.01098139979965598,0.019701551499404783,0.003235374684972759,0.0156005135243048,0.0067081211202676665,0.007600188613540256,0.0047537896505476995,0.00338728622821067,0.002548503996325082,0.006516145229193934,0.001479071694427169,0.032370562135920954,0.006078447644006579,0.002527569920271998,0.006019262103781922,0.0076716472223254005,0.002216854153683869,0.0021629269900481016,0.0014288181068787033,0.005404400780914137,0.0066769301621776075,0.001475738492163507,0.0039085643900352105,0.0023634417728229905,0.008380730346069412,0.008991883751475842,0.0027189045513603717,0.0049687455784445615,0.003322786771061037,0.14275875378728187,0.003746023797377098,0.0023689898948098813,0.0007107836749015815,0.008219917687313564,0.001801390852140046,0.030904158225498985,0.006793745851787431,0.003130770030486607,0.0028077917823561855,0.00505659959582968,0.003949062866360457,0.0046573736352211546,0.004061433293946251,0.014721899288788249,0.013556665619718652,0.0011961553224905954,0.001454472163737051,0.007382613401449389,0.005844521202679581,0.008537104993443376,0.006078235789375113,0.007112920646278898,0.001145928683557823,0.011718675759563417,0.00506788710257529,0.0029679818297603756,0.004901721253991133,0.0027036330722113723,0.002627613312698388,0.003875750239288174,0.015770186199531085,0.004824368185960712,0.002233561668623389,0.0008396485766179856,0.002478856546205041,0.013832710456069226,0.007877012874879668,0.00017338517530711753,0.003282492387456451,0.04847825363755044,0.004203440882303381,0.006991560441430775,0.003276023597217163,0.004393909456272754,0.003636485003528949,0.0076785376782055655,0.004738955129641485,0.004552301079977313,0.001828077160992506,0.02924904800690211,0.007557716835606357,0.0059391251343672066,0.00906994710965982,0.009025508643855044,0.005389593319233149,0.0022372381446886043,0.00538415706677257,0.0039230961320932765,0.004846932894542007,0.004167257778060361,0.0034983892913813867,0.005077740983741192,0.004441816407015219,0.0055800781771000165,0.004167988630188365,0.004584643469861033,0.002586911996992891,0.0021638035507018393,0.03835797376337522,0.003100647320824202,0.007936273756031995,0.001410248109921261,0.0003651508209693038,0.008836779027196298,0.01797446573643666,0.002180939083806471
]
# Create a list of dataset names
datasets = ["Dataset" + str(i) for i in range(1, len(data) + 1)]

# Use your data for the performance ratios
para = data

# Plotting
width = 0.35
x = np.arange(len(datasets))

fig, ax = plt.subplots(figsize=(7, 6), dpi=1000)
bars = ax.bar(x, para, width, label='tree-based model', color="#2166AC")

ax.set_xlabel('133 compilation flags', fontsize=30)
ax.set_ylabel('importance value', fontsize=30)
ax.set_title('compilation flag importance', fontsize=30)
plt.xticks(fontsize=28)
plt.yticks(fontsize=28)
# ax.set_xticks(x)
# ax.set_xticklabels(datasets, rotation=45, ha="right")
ax.legend(fontsize=30)
plt.savefig('importance0.png', bbox_inches = 'tight')